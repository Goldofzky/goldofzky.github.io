<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title><机器人足球>UT代码框架 - 七条鱼</title>

	<link rel="shortcut icon" href="/styles/images/favicon.jpg">
	<link rel="icon" href="/styles/images/favicon.jpg">

	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="/styles/css/syntax.css">
	<link rel="canonical" href="/2018/07/09/UTrobocup/">
	<link rel="alternate" type="application/rss+xml" title="七条鱼" href="/feed.xml">
	
	<meta name="keywords" content="<机器人足球>UT代码框架, 七条鱼, 个人博客;">
	<meta name="description" content="个人博客;">

	<script src="/styles/js/jquery.min.js"></script>
	<!--[if lt IE 9]>
    	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
  	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?94be4b0f9fc5d94cc0d0415ea6761ae9";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
  	<style type="text/css">
	  	.docs-content{
	  		margin-bottom: 10px;
	  	}
  	</style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.jpg">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/categories/">大分组</a>
        </li>
        <li>
          <a href="/tag">细小分组</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
              <a><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a rel="nofollow" target="_blank" href="https://github.com/goldofzky/">Github</a></li>
            <li><a rel="nofollow" target="_blank" href="https://github.com/Goldofzky/goldofzky.github.io/">博客源码</a></li>
            <li class="divider"></li>
            <li><a rel="nofollow" target="_blank" >My email:</a></li>
            <li><a rel="nofollow" target="_blank" >347560833@qq.com</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
 

    <div class="docs-header" id="content">
  <div class="container">
  	
  		<!--
		    <h1><机器人足球>UT代码框架</h1>
		    <p>Post on Jul 09, 2018 by <a href="/about">Keyu Zhao</a></p>
		-->
		    <h1>Learn what I like,do what I want.</h1>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/categories/#robocup-ref">robocup</a>	/
    	<a href="/tag/#源码-ref">源码</a>
    
  </div>
</div>

    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
  </ul>
  <div style="height: 200px;width: 200px;">
    <script type="text/javascript" src="//ra.revolvermaps.com/0/0/6.js?i=0ekgc3a3o3w&amp;m=7&amp;c=e63100&amp;cr1=ffffff&amp;f=arial&amp;l=0&amp;bv=90&amp;lx=-420&amp;ly=420&amp;hi=20&amp;he=7&amp;hc=a8ddff&amp;rs=80" async="async">
    </script>
  </div>
</div>

 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title"><机器人足球>UT代码框架</h1>
              <!--
                <p class="post-meta">Jul 9, 2018</p>
              -->
              <div class="meta">Posted on <span class="postdate">Jul 09, 2018</span> By <a target="_blank" href="http://localhost:4000">Keyu Zhao</a></div>
              <br />
            </header>
            <article class="post-content">
              <ul id="markdown-toc">
  <li><a href="#主函数" id="markdown-toc-主函数">主函数</a></li>
  <li><a href="#读取主函数参数" id="markdown-toc-读取主函数参数">读取主函数参数</a></li>
  <li><a href="#初始化函数" id="markdown-toc-初始化函数">初始化函数</a></li>
  <li><a href="#putmessage" id="markdown-toc-putmessage">PutMessage()</a></li>
  <li><a href="#putmonmessage" id="markdown-toc-putmonmessage">PutMonMessage()</a></li>
  <li><a href="#getmessage" id="markdown-toc-getmessage">GetMessage()</a></li>
  <li><a href="#载入机器人参数" id="markdown-toc-载入机器人参数">载入机器人参数</a></li>
  <li><a href="#运行" id="markdown-toc-运行">运行</a></li>
  <li><a href="#结束" id="markdown-toc-结束">结束</a></li>
  <li><a href="#startsh文件" id="markdown-toc-startsh文件">start.sh文件</a></li>
</ul>

<p><img src="/styles/images/robocup框架.png" alt="框架图" /></p>

<h1 id="主函数">主函数</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">int</span> <span class="n">main</span><span class="p">(</span><span class="n">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="o">/</span><span class="sr">/main传入的参数可以在start.sh文件中找到
{
    /</span><span class="o">/</span> <span class="n">registering</span> <span class="n">the</span> <span class="n">handler</span><span class="p">,</span> <span class="n">catching</span> <span class="no">SIGINT</span> <span class="n">signals</span>
    <span class="n">signal</span><span class="p">(</span><span class="no">SIGINT</span><span class="p">,</span> <span class="n">handler</span><span class="p">);</span>

    <span class="sr">//</span> <span class="no">Actually</span> <span class="nb">print</span> <span class="n">out</span> <span class="n">the</span> <span class="n">errors</span> <span class="n">that</span> <span class="n">are</span> <span class="n">thrown</span><span class="p">.</span>
    <span class="nf">try</span>
    <span class="p">{</span>
        <span class="no">PrintGreeting</span><span class="p">();</span>
        <span class="no">ReadOptions</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="n">argv</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="no">Init</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="no">Run</span><span class="p">();</span>
        <span class="no">Done</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="kp">catch</span> <span class="p">(</span><span class="n">char</span> <span class="n">const</span><span class="o">*</span> <span class="n">c</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"-------------ERROR------------"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"-----------END ERROR----------"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kp">catch</span> <span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"-------------ERROR------------"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"-----------END ERROR----------"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><code class="highlighter-rouge">int main(int argc, char* argv[])</code>关于主函数传参</p>
<blockquote>
  <p><code class="highlighter-rouge">main(int argc, char *argv[ ], char **env)</code>才是UNIX和Linux中的标准写法。<br />
argc: 整数,用来统计你运行程序时送给main函数的命令行参数的个数 <br />
*argv[ ]: 指针数组，用来存放指向你的字符串参数的指针，每一个元素指向一个参数<br />
argv[0] 指向程序运行的全路径名<br />
argv[1] 指向在DOS命令行中执行程序名后的第一个字符串<br />
argv[2] 指向执行程序名后的第二个字符串<br />
… <br />
argv[argc]为NULL。 <br />
**env:字符串数组。env[ ]的每一个元素都包含ENVVAR=value形式的字符串。其中ENVVAR为环境变量，value 为ENVVAR的对应值。 <br />
argc, argv,env是在main( )函数之前被赋值的，编译器生成的可执行文件，main( )不是真正的入口点，而是一个标准的函数,这个函数名与具体的操作系统有关。</p>
</blockquote>

<hr />

<h1 id="读取主函数参数">读取主函数参数</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">string</span> <span class="n">teamName</span><span class="p">;</span>
<span class="n">int</span> <span class="n">uNum</span><span class="p">;</span>
<span class="n">string</span> <span class="n">outputFile</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span> <span class="sr">//</span> <span class="no">For</span> <span class="n">optimization</span>
<span class="n">string</span> <span class="n">agentType</span><span class="p">(</span><span class="s2">"naoagent"</span><span class="p">);</span>
<span class="n">string</span> <span class="n">rsg</span><span class="p">(</span><span class="s2">"rsg/agent/nao/nao.rsg"</span><span class="p">);</span>
<span class="n">void</span> <span class="no">ReadOptions</span><span class="p">(</span><span class="n">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>

    <span class="n">teamName</span> <span class="o">=</span> <span class="s2">"UTAustinVilla_Base"</span><span class="p">;</span>
    <span class="n">uNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="sr">//</span> <span class="no">Value</span> <span class="n">of</span> <span class="mi">0</span> <span class="n">means</span> <span class="n">choose</span> <span class="k">next</span> <span class="n">available</span> <span class="n">number</span>

    <span class="k">for</span><span class="p">(</span> <span class="n">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">argc</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="n">strcmp</span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--help"</span> <span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="no">PrintHelp</span><span class="p">();</span>
            <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">strncmp</span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--host"</span><span class="p">,</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">string</span> <span class="n">tmp</span><span class="o">=</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

            <span class="k">if</span> <span class="p">(</span> <span class="n">tmp</span><span class="p">.</span><span class="nf">length</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">7</span> <span class="p">)</span> <span class="o">/</span><span class="sr">/ minimal sanity check
            {
                PrintHelp();
                exit(0);
            }
            gHost = tmp.substr(7);
        }
        else if ( strncmp( argv[i], "--mhost", 7 ) == 0 )
        {
            string tmp=argv[i];

            if ( tmp.length() &lt;= 8 ) /</span><span class="o">/</span> <span class="n">minimal</span> <span class="n">sanity</span> <span class="n">check</span>
            <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">mHost</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">strncmp</span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--port"</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">gPort</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">strncmp</span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--mport"</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">mPort</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--team"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">teamName</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--unum"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">uNum</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--paramsfile"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">string</span> <span class="n">inputsFile</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
            <span class="no">LoadParams</span><span class="p">(</span><span class="n">inputsFile</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--experimentout"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">outputFile</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--optimize"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">agentType</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--type"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">rsg</span> <span class="o">=</span> <span class="s2">"rsg/agent/nao/nao_hetero.rsg "</span> <span class="o">+</span> <span class="n">string</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]);</span>
            <span class="n">agentBodyType</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--rsg"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">argc</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">PrintHelp</span><span class="p">();</span>
                <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">rsg</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--pkgoalie"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">agentType</span> <span class="o">=</span> <span class="s2">"pkgoalie"</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--pkshooter"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">agentType</span> <span class="o">=</span> <span class="s2">"pkshooter"</span><span class="p">;</span>
        <span class="p">}</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s2">"--gazebo"</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">agentType</span> <span class="o">=</span> <span class="s2">"gazebo"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="o">/</span><span class="sr">/ for-loop
}</span></code></pre></figure>

<p>此段大概用来检查参数是否准确,以及将在<code class="highlighter-rouge">start.sh</code>中传入的参数用变量名表示.<br />
在3d仿真比赛中主要用的是<code class="highlighter-rouge">nao</code>机器人</p>

<hr />
<p><code class="highlighter-rouge">string rsg("rsg/agent/nao/nao.rsg");</code></p>
<blockquote>
  <p>这个位置在Linux安装robocup环境时的rcsserver3d-0.6.10/data里面.这里主要时nao机器人的躯体类型信息</p>
</blockquote>

<p>内容如下:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>; -*- mode: lisp; -*-

(RSG 0 1)
(
 (importScene rsg/agent/nao/nao_hetero.rsg 0)
)
 
</code></pre></div></div>

<h1 id="初始化函数">初始化函数</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">bool</span> <span class="no">Init</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">"connecting to TCP "</span> <span class="o">&lt;&lt;</span> <span class="n">gHost</span> <span class="o">&lt;&lt;</span> <span class="s2">":"</span> <span class="o">&lt;&lt;</span> <span class="n">gPort</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="sr">//</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">"connecting to UDP "</span> <span class="o">&lt;&lt;</span> <span class="n">gHost</span> <span class="o">&lt;&lt;</span> <span class="s2">":"</span> <span class="o">&lt;&lt;</span> <span class="n">gPort</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>

    <span class="n">try</span>
    <span class="p">{</span>
        <span class="no">Addr</span> <span class="n">local</span><span class="p">(</span><span class="no">INADDR_ANY</span><span class="p">,</span><span class="no">INADDR_ANY</span><span class="p">);</span>
        <span class="n">gSocket</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="n">local</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kp">catch</span> <span class="p">(</span><span class="no">BindErr</span> <span class="n">error</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"failed to bind socket with '"</span>
             <span class="o">&lt;&lt;</span> <span class="n">error</span><span class="p">.</span><span class="nf">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s2">"'"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

        <span class="n">gSocket</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span>
        <span class="k">return</span> <span class="kp">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">try</span>
    <span class="p">{</span>
        <span class="no">Addr</span> <span class="n">server</span><span class="p">(</span><span class="n">gPort</span><span class="p">,</span><span class="n">gHost</span><span class="p">);</span>
        <span class="n">gSocket</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">server</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kp">catch</span> <span class="p">(</span><span class="no">ConnectErr</span> <span class="n">error</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"connection failed with: '"</span>
             <span class="o">&lt;&lt;</span> <span class="n">error</span><span class="p">.</span><span class="nf">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s2">"'"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">gSocket</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span>
        <span class="k">return</span> <span class="kp">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sr">//</span> <span class="no">Connect</span> <span class="n">to</span> <span class="n">the</span> <span class="n">monitor</span> <span class="n">port</span> <span class="n">so</span> <span class="n">that</span> <span class="n">we</span> <span class="n">can</span> <span class="n">use</span> <span class="n">the</span> <span class="n">training</span> <span class="n">command</span> <span class="n">parser</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mPort</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">try</span>
        <span class="p">{</span>
            <span class="no">Addr</span> <span class="n">local</span><span class="p">(</span><span class="no">INADDR_ANY</span><span class="p">,</span><span class="no">INADDR_ANY</span><span class="p">);</span>
            <span class="n">mSocket</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="n">local</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kp">catch</span> <span class="p">(</span><span class="no">BindErr</span> <span class="n">error</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"failed to bind socket with '"</span>
                 <span class="o">&lt;&lt;</span> <span class="n">error</span><span class="p">.</span><span class="nf">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s2">"'"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

            <span class="n">mSocket</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span>
            <span class="k">return</span> <span class="kp">false</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">try</span>
        <span class="p">{</span>
            <span class="no">Addr</span> <span class="n">server</span><span class="p">(</span><span class="n">mPort</span><span class="p">,</span><span class="n">gHost</span><span class="p">);</span>
            <span class="n">mSocket</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span><span class="n">server</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kp">catch</span> <span class="p">(</span><span class="no">ConnectErr</span> <span class="n">error</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"connection failed with: '"</span>
                 <span class="o">&lt;&lt;</span> <span class="n">error</span><span class="p">.</span><span class="nf">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s2">"'"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
            <span class="n">mSocket</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span>
            <span class="k">return</span> <span class="kp">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>


    <span class="k">return</span> <span class="kp">true</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>此段为服务器编程,主要用于和服务器交互信息</p>

<hr />

<h1 id="putmessage">PutMessage()</h1>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void PutMessage(const string&amp; msg)
{
    if (msg.empty())
    {
        return;
    }

    // prefix the message with its payload length
    unsigned int len = htonl(msg.size());
    string prefix((const char*)&amp;len,sizeof(unsigned int));
    string str = prefix + msg;
    if ( static_cast&lt;ssize_t&gt;(str.size()) != write(gSocket.getFD(), str.data(), str.size())) {
        LOG_STR("could not put entire message: " + msg);
    }
}
</code></pre></div></div>
<p><code class="highlighter-rouge">此段用于机器人向服务器传递信息</code></p>

<h1 id="putmonmessage">PutMonMessage()</h1>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void PutMonMessage(const string&amp; msg)
{
    if (msg.empty())
    {
        return;
    }

    // prefix the message with its payload length
    unsigned int len = htonl(msg.size());
    string prefix((const char*)&amp;len,sizeof(unsigned int));
    string str = prefix + msg;
    if ( static_cast&lt;ssize_t&gt;(str.size()) != write(mSocket.getFD(), str.data(), str.size())) {
        LOG_STR("could not put entire monitor message: " + msg);
    }
}
</code></pre></div></div>
<p><code class="highlighter-rouge">此段用于传递监控信息</code></p>

<h1 id="getmessage">GetMessage()</h1>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bool GetMessage(string&amp; msg)
{
    static char buffer[16 * 1024];

    unsigned int bytesRead = 0;
    while(bytesRead &lt; sizeof(unsigned int))
    {
        SelectInput();
        int readResult = read(gSocket.getFD(), buffer + bytesRead, sizeof(unsigned int) - bytesRead);
        if(readResult &lt; 0)
            continue;
        if (readResult == 0) {
            // [patmac] Kill ourselves if we disconnect from the server
            // for instance when the server is killed.  This helps to
            // prevent runaway agents.
            cerr &lt;&lt; "Lost connection to server" &lt;&lt; endl;
            Done();
            exit(1);
        }
        bytesRead += readResult;
    }

    //cerr &lt;&lt; "buffer = |" &lt;&lt; string(buffer+1) &lt;&lt; "|\n";
    //cerr &lt;&lt; "bytesRead = |" &lt;&lt; bytesRead &lt;&lt; "|\n";
    //cerr &lt;&lt; "Size of buffer = |" &lt;&lt; sizeof(buffer) &lt;&lt; "|\n";
    //cerr &lt;&lt; "buffer = |" &lt;&lt; buffer &lt;&lt; "|\n";
    //cerr &lt;&lt; "buffer[5] = |" &lt;&lt; buffer[5] &lt;&lt; "|\n";
    //printf ("xxx-%s\n", buffer+5);

    // msg is prefixed with it's total length
    union int_char_t {
        char *c;
        unsigned int *i;
    };
    int_char_t size;
    size.c = buffer;
    unsigned int msgLen = ntohl(*(size.i));
    // cerr &lt;&lt; "GM 6 / " &lt;&lt; msgLen &lt;&lt; " (bytesRead " &lt;&lt; bytesRead &lt;&lt; ")\n";
    if(sizeof(unsigned int) + msgLen &gt; sizeof(buffer)) {
        cerr &lt;&lt; "too long message; aborting" &lt;&lt; endl;
        abort();
    }

    // read remaining message segments
    unsigned int msgRead = bytesRead - sizeof(unsigned int);

    //cerr &lt;&lt; "msgRead = |" &lt;&lt; msgRead &lt;&lt; "|\n";

    char *offset = buffer + bytesRead;

    while (msgRead &lt; msgLen)
    {
        if (! SelectInput())
        {
            return false;
        }

        unsigned readLen = sizeof(buffer) - msgRead;
        if(readLen &gt; msgLen - msgRead)
            readLen = msgLen - msgRead;

        int readResult = read(gSocket.getFD(), offset, readLen);
        if(readResult &lt; 0)
            continue;
        msgRead += readResult;
        offset += readResult;
        //cerr &lt;&lt; "msgRead = |" &lt;&lt; msgRead &lt;&lt; "|\n";
    }

    // zero terminate received data
    (*offset) = 0;

    msg = string(buffer+sizeof(unsigned int));

    // DEBUG
    //cout &lt;&lt; msg &lt;&lt; endl;

    static string lastMsg = "";
    if (msg.compare(lastMsg) == 0) {
        cerr &lt;&lt; "Duplicate message received from server -- has the server killed us?\n";
        Done();
        exit(1);
    }
    lastMsg = msg;

    return true;
}
</code></pre></div></div>
<p><code class="highlighter-rouge">此段用于获取服务器信息</code></p>

<h1 id="载入机器人参数">载入机器人参数</h1>
<p>源码如下</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="sr">/*
 * Read in parameters from inputsFile, which should be formatted
 * with a set of parameters as key value pairs from strings to
 * floats.  The parameter name should be separated from its value
 * with a tab and parameters should be separated from each other
 * with a single newline.  Parameters will be loaded into the
 * namedParams map.
 */</span>
<span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">namedParams</span><span class="p">;</span><span class="sr">//</span><span class="err">声明</span><span class="n">map</span><span class="err">类型用来存储函数</span>
<span class="n">void</span> <span class="no">LoadParams</span><span class="p">(</span><span class="n">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">inputsFile</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">istream</span> <span class="o">*</span><span class="n">input</span><span class="p">;</span>
    <span class="n">ifstream</span> <span class="n">infile</span><span class="p">;</span>
    <span class="n">istringstream</span> <span class="n">inString</span><span class="p">;</span>

    <span class="n">infile</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="n">inputsFile</span><span class="p">.</span><span class="nf">c_str</span><span class="p">(),</span> <span class="n">ifstream</span><span class="o">::</span><span class="k">in</span><span class="p">);</span><span class="sr">//</span><span class="err">打开文件</span>

    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">infile</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"Could not open parameter file "</span> <span class="o">&lt;&lt;</span> <span class="n">inputsFile</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">input</span> <span class="o">=</span> <span class="o">&amp;</span><span class="p">(</span><span class="n">infile</span><span class="p">);</span>

    <span class="n">string</span> <span class="nb">name</span><span class="p">;</span>
    <span class="n">bool</span> <span class="n">fBlockComment</span> <span class="o">=</span> <span class="kp">false</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">input</span><span class="o">-&gt;</span><span class="n">eof</span><span class="p">())</span>
    <span class="p">{</span>

        <span class="sr">//</span> <span class="no">Skip</span> <span class="n">comments</span> <span class="n">and</span> <span class="n">empty</span> <span class="n">lines</span>
        <span class="sr">//</span><span class="err">这段代码用于过滤信息</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">str</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">getline</span><span class="p">(</span><span class="o">*</span><span class="n">input</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span><span class="sr">//</span><span class="err">这一段用于读取整行的文本</span><span class="p">,</span><span class="err">并将文本存储在</span><span class="n">str</span><span class="err">中</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="nf">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">str</span><span class="p">.</span><span class="nf">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="s2">"/*"</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fBlockComment</span> <span class="o">=</span> <span class="kp">true</span><span class="p">;</span><span class="sr">//</span><span class="err">当长度大于二</span><span class="p">,</span><span class="err">且前</span><span class="mi">2</span><span class="err">个字符为</span><span class="s2">"/*"</span><span class="err">时</span><span class="p">,</span><span class="n">fBlockComment</span><span class="err">置为</span><span class="kp">true</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">str</span> <span class="o">==</span> <span class="s2">"*/"</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fBlockComment</span> <span class="o">=</span> <span class="kp">false</span><span class="p">;</span><span class="sr">//</span><span class="err">当字符串为</span><span class="s2">"*/"</span><span class="p">,</span><span class="n">fBlockComment</span><span class="err">置为</span><span class="kp">false</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">fBlockComment</span> <span class="o">||</span> <span class="n">str</span> <span class="o">==</span> <span class="s2">""</span> <span class="o">||</span> <span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'#'</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">continue</span><span class="p">;</span><span class="sr">//</span><span class="err">当</span><span class="n">fBlockComment</span><span class="err">为</span><span class="n">true</span><span class="err">或者字符串为空</span><span class="p">,</span><span class="err">或者第一个字符为</span><span class="s1">'#'</span><span class="err">时</span><span class="p">,</span><span class="err">跳转</span><span class="p">,</span><span class="err">过滤消息</span><span class="o">.</span>
        <span class="p">}</span>

        <span class="sr">//</span> <span class="n">otherwise</span> <span class="n">parse</span> <span class="n">strings</span>
        <span class="sr">//</span><span class="err">当遇到我们想要的字符时</span>
        <span class="n">stringstream</span> <span class="n">s</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">key</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">value</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">getline</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="s1">'\t'</span><span class="p">);</span>      <span class="sr">//</span><span class="err">读取</span><span class="n">key</span><span class="err">值</span><span class="p">,</span><span class="err">遇到</span><span class="s1">'\t'</span><span class="err">跳转</span>
        <span class="n">std</span><span class="o">::</span><span class="n">getline</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>          <span class="sr">//</span><span class="n">r</span><span class="err">读取</span><span class="n">value</span><span class="err">值</span>
        <span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="nf">empty</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">continue</span><span class="p">;</span><span class="sr">//</span><span class="err">当</span><span class="n">value</span><span class="err">为空时</span><span class="p">,</span><span class="err">转到下一行</span>
        <span class="p">}</span>
        <span class="n">namedParams</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span><span class="sr">//</span><span class="err">将参数存进</span><span class="n">map</span><span class="err">容器</span>
    <span class="p">}</span>

    <span class="n">infile</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span><span class="sr">//</span><span class="err">关闭文件</span>
<span class="p">}</span></code></pre></figure>

<p><code class="highlighter-rouge">infile.open(inputsFile.c_str(), ifstream::in);//打开文件</code></p>

<blockquote>
  <p>这一段读取时候,open的参数不是文件名,而是文件名.c_str 原因在于如果一个文件名被申明为“string”，那么就必须使用 “c_str”，然而，当你申明一个文件名为字符数组型，就没有必要使用，比如:</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>char filename[20]; 
in.open(finename) 

otherwise 

string filename; 
in.open(filename.c_str)
</code></pre></div></div>
<p>c_str是string类的一个函数，可以把string类型变量转换成char<em>变量
open()要求的是一个char</em>字符串</p>

<hr />
<p><code class="highlighter-rouge">std::getline(*input, str);//这一段用于读取整行的文本,并将文本存储在str中.</code></p>
<blockquote>
  <p>getline()函数详解:
<code class="highlighter-rouge">istream&amp; getline ( istream &amp;is , string &amp;str , char delim );</code>
其中 istream &amp;is 表示一个输入流，譬如cin；
string&amp;str表示把从输入流读入的字符串存放在这个字符串中（可以自己随便命名，str什么的都可以）；
char delim表示遇到这个字符停止读入，在不设置的情况下系统默认该字符为’\n’，也就是回车换行符（遇到回车停止读入）。</p>
</blockquote>

<hr />

<h1 id="运行">运行</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">void</span> <span class="no">Run</span><span class="p">()</span>
<span class="p">{</span>
    <span class="no">Behavior</span> <span class="o">*</span><span class="n">behavior</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">agentType</span> <span class="o">==</span> <span class="s2">"naoagent"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">behavior</span> <span class="o">=</span> <span class="n">new</span> <span class="no">NaoBehavior</span><span class="p">(</span><span class="n">teamName</span><span class="p">,</span> <span class="n">uNum</span><span class="p">,</span> <span class="n">namedParams</span><span class="p">,</span> <span class="n">rsg</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">agentType</span> <span class="o">==</span> <span class="s2">"pkgoalie"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">behavior</span> <span class="o">=</span> <span class="n">new</span> <span class="no">PKGoalieBehavior</span><span class="p">(</span><span class="n">teamName</span><span class="p">,</span> <span class="n">uNum</span><span class="p">,</span> <span class="n">namedParams</span><span class="p">,</span> <span class="n">rsg</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">agentType</span> <span class="o">==</span> <span class="s2">"pkshooter"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">behavior</span> <span class="o">=</span> <span class="n">new</span> <span class="no">PKShooterBehavior</span><span class="p">(</span><span class="n">teamName</span><span class="p">,</span> <span class="n">uNum</span><span class="p">,</span> <span class="n">namedParams</span><span class="p">,</span> <span class="n">rsg</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">agentType</span> <span class="o">==</span> <span class="s2">"gazebo"</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">agentBodyType</span> <span class="o">=</span> <span class="no">GAZEBO_AGENT_TYPE</span><span class="p">;</span>
        <span class="n">behavior</span> <span class="o">=</span> <span class="n">new</span> <span class="no">GazeboBehavior</span><span class="p">(</span><span class="n">teamName</span><span class="p">,</span> <span class="n">uNum</span><span class="p">,</span> <span class="n">namedParams</span><span class="p">,</span> <span class="n">rsg</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">agentType</span> <span class="o">==</span> <span class="s2">"fixedKickAgent"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"creating OptimizationBehaviorFixedKick"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">behavior</span> <span class="o">=</span> <span class="n">new</span> <span class="no">OptimizationBehaviorFixedKick</span><span class="p">(</span>  <span class="n">teamName</span><span class="p">,</span>
                <span class="n">uNum</span><span class="p">,</span>
                <span class="n">namedParams</span><span class="p">,</span>
                <span class="n">rsg</span><span class="p">,</span>
                <span class="n">outputFile</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">agentType</span> <span class="o">==</span> <span class="s2">"walkForwardAgent"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"creating OptimizationBehaviorWalkForward"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">behavior</span> <span class="o">=</span> <span class="n">new</span> <span class="no">OptimizationBehaviorWalkForward</span><span class="p">(</span>  <span class="n">teamName</span><span class="p">,</span>
                <span class="n">uNum</span><span class="p">,</span>
                <span class="n">namedParams</span><span class="p">,</span>
                <span class="n">rsg</span><span class="p">,</span>
                <span class="n">outputFile</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="kp">throw</span> <span class="s2">"unknown agent type"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="no">PutMessage</span><span class="p">(</span><span class="n">behavior</span><span class="o">-&gt;</span><span class="no">Init</span><span class="p">()</span><span class="o">+</span><span class="s2">"(syn)"</span><span class="p">);</span>

    <span class="n">string</span> <span class="n">msg</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">gLoop</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="no">GetMessage</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span>
        <span class="n">string</span> <span class="n">msgToServer</span> <span class="o">=</span> <span class="n">behavior</span><span class="o">-&gt;</span><span class="no">Think</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span>
        <span class="sr">//</span> <span class="no">To</span> <span class="n">support</span> <span class="n">agent</span> <span class="n">sync</span> <span class="n">mode</span>
        <span class="n">msgToServer</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s2">"(syn)"</span><span class="p">);</span>
        <span class="no">PutMessage</span><span class="p">(</span><span class="n">msgToServer</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mPort</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="no">PutMonMessage</span><span class="p">(</span><span class="n">behavior</span><span class="o">-&gt;</span><span class="n">getMonMessage</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>以下为机器人运行的主要循环<br />
机器人不断从服务器获取信息<code class="highlighter-rouge">GetMessage(msg);</code> <br />
机器人进行思考和运动<code class="highlighter-rouge">msgToServer.append("(syn)");</code><br />
机器人向服务器传递信息<code class="highlighter-rouge">PutMessage(msgToServer);</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>while (gLoop)
    {
        GetMessage(msg);
        string msgToServer = behavior-&gt;Think(msg);
        // To support agent sync mode
        msgToServer.append("(syn)");
        PutMessage(msgToServer);
        if (mPort != -1) {
            PutMonMessage(behavior-&gt;getMonMessage());
        }
    }
</code></pre></div></div>

<hr />

<h1 id="结束">结束</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">void</span> <span class="no">Done</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">gSocket</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">"closed connection to "</span> <span class="o">&lt;&lt;</span> <span class="n">gHost</span> <span class="o">&lt;&lt;</span> <span class="s2">":"</span> <span class="o">&lt;&lt;</span> <span class="n">gPort</span> <span class="o">&lt;&lt;</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mPort</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">mSocket</span><span class="p">.</span><span class="nf">close</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">bool</span> <span class="no">SelectInput</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">fd_set</span> <span class="n">readfds</span><span class="p">;</span>
    <span class="n">struct</span> <span class="n">timeval</span> <span class="n">tv</span> <span class="o">=</span> <span class="p">{</span><span class="mi">60</span><span class="p">,</span><span class="mi">0</span><span class="p">};</span>
    <span class="no">FD_ZERO</span><span class="p">(</span><span class="o">&amp;</span><span class="n">readfds</span><span class="p">);</span>
    <span class="no">FD_SET</span><span class="p">(</span><span class="n">gSocket</span><span class="p">.</span><span class="nf">getFD</span><span class="p">(),</span><span class="o">&amp;</span><span class="n">readfds</span><span class="p">);</span>

    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">switch</span><span class="p">(</span><span class="nb">select</span><span class="p">(</span><span class="n">gSocket</span><span class="p">.</span><span class="nf">getFD</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="o">&amp;</span><span class="n">readfds</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tv</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"(SelectInput) select failed "</span> <span class="o">&lt;&lt;</span> <span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
            <span class="nb">abort</span><span class="p">();</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="ss">default:
            </span><span class="k">if</span><span class="p">(</span><span class="n">errno</span> <span class="o">==</span> <span class="no">EINTR</span><span class="p">)</span>
                <span class="n">continue</span><span class="p">;</span>
            <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s2">"(SelectInput) select failed "</span> <span class="o">&lt;&lt;</span> <span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
            <span class="nb">abort</span><span class="p">();</span>
            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p><code class="highlighter-rouge">这里主要是一些结束时,断开服务器的操作</code></p>

<h1 id="startsh文件">start.sh文件</h1>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1">#!/bin/bash</span>
<span class="c1">#</span>
<span class="c1"># UT Austin Villa start script for 3D Simulation Competitions</span>
<span class="c1">#</span>


<span class="no">AGENT_BINARY</span><span class="o">=</span><span class="n">agentspark</span>
<span class="no">BINARY_DIR</span><span class="o">=</span><span class="s2">"."</span>
<span class="no">LIBS_DIR</span><span class="o">=</span><span class="s2">"./libs"</span>
<span class="no">NUM_PLAYERS</span><span class="o">=</span><span class="mi">3</span>

<span class="n">team</span><span class="o">=</span><span class="s2">"UTAustinVilla_Base"</span>
<span class="n">host</span><span class="o">=</span><span class="s2">"localhost"</span>
<span class="n">port</span><span class="o">=</span><span class="mi">3100</span>
<span class="n">paramsfile</span><span class="o">=</span><span class="n">paramfiles</span><span class="o">/</span><span class="n">defaultParams</span><span class="p">.</span><span class="nf">txt</span>
<span class="n">mhost</span><span class="o">=</span><span class="s2">"localhost"</span>


<span class="n">export</span> <span class="no">LD_LIBRARY_PATH</span><span class="o">=</span><span class="vg">$LIBS_DIR</span><span class="p">:</span><span class="vg">$LD_LIBRARY_PATH</span>


<span class="n">usage</span><span class="p">()</span>
<span class="p">{</span>
  <span class="p">(</span><span class="n">echo</span> <span class="s2">"Usage: $0 [options]"</span>
   <span class="n">echo</span> <span class="s2">"Available options:"</span>
   <span class="n">echo</span> <span class="s2">"  --help                       prints this"</span>
   <span class="n">echo</span> <span class="s2">"  HOST                         specifies server host (default: localhost)"</span>
   <span class="n">echo</span> <span class="s2">"  -p, --port PORT              specifies server port (default: 3100)"</span>
   <span class="n">echo</span> <span class="s2">"  -t, --team TEAMNAME          specifies team name"</span>
   <span class="n">echo</span> <span class="s2">"  -mh, --mhost HOST            IP of the monitor for sending draw commands (default: localhost)"</span>
   <span class="n">echo</span> <span class="s2">"  -pf, --paramsfile FILENAME   name of a parameters file to be loaded (default: paramfiles/defaultParams.txt)"</span><span class="p">)</span> <span class="mi">1</span><span class="o">&gt;&amp;</span><span class="mi">2</span>
<span class="p">}</span>


<span class="n">fParsedHost</span><span class="o">=</span><span class="kp">false</span>
<span class="n">paramsfile_args</span><span class="o">=</span><span class="s2">"--paramsfile ${paramsfile}"</span>

<span class="k">while</span> <span class="p">[</span> <span class="err">$</span><span class="c1"># -gt 0 ]</span>
<span class="k">do</span>
  <span class="k">case</span> <span class="vg">$1</span> <span class="k">in</span>

    <span class="o">--</span><span class="n">help</span><span class="p">)</span>
      <span class="n">usage</span>
      <span class="nb">exit</span> <span class="mi">0</span>
      <span class="p">;;</span>

    <span class="o">-</span><span class="n">mh</span><span class="o">|--</span><span class="n">mhost</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="c1"># -lt 2 ]; then</span>
        <span class="n">usage</span>
        <span class="nb">exit</span> <span class="mi">1</span>
      <span class="n">fi</span>
      <span class="n">mhost</span><span class="o">=</span><span class="s2">"${2}"</span>
      <span class="n">shift</span> <span class="mi">1</span>
      <span class="p">;;</span>

    <span class="o">-</span><span class="nb">p</span><span class="o">|--</span><span class="n">port</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="c1"># -lt 2 ]; then</span>
        <span class="n">usage</span>
        <span class="nb">exit</span> <span class="mi">1</span>
      <span class="n">fi</span>
      <span class="n">port</span><span class="o">=</span><span class="s2">"${2}"</span>
      <span class="n">shift</span> <span class="mi">1</span>
      <span class="p">;;</span>

    <span class="o">-</span><span class="n">t</span><span class="o">|--</span><span class="n">team</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="c1"># -lt 2 ]; then</span>
        <span class="n">usage</span>
        <span class="nb">exit</span> <span class="mi">1</span>
      <span class="n">fi</span>
      <span class="n">team</span><span class="o">=</span><span class="s2">"${2}"</span>
      <span class="n">shift</span> <span class="mi">1</span>
      <span class="p">;;</span>

    <span class="o">-</span><span class="n">pf</span><span class="o">|--</span><span class="n">paramsfile</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">[</span> <span class="err">$</span><span class="c1"># -lt 2 ]; then</span>
        <span class="n">usage</span>
        <span class="nb">exit</span> <span class="mi">1</span>
      <span class="n">fi</span>
      <span class="no">DIR_PARAMS</span><span class="o">=</span><span class="s2">"$( cd "</span><span class="err">$</span><span class="p">(</span> <span class="n">dirname</span> <span class="s2">"$2"</span> <span class="p">)</span><span class="s2">" &amp;&amp; pwd )"</span>
      <span class="no">PARAMS_FILE</span><span class="o">=</span><span class="vg">$DIR_PARAMS</span><span class="o">/</span><span class="err">$</span><span class="p">(</span><span class="n">basename</span> <span class="vg">$2</span><span class="p">)</span>
      <span class="n">paramsfile_args</span><span class="o">=</span><span class="s2">"${paramsfile_args} --paramsfile ${PARAMS_FILE}"</span>
      <span class="n">shift</span> <span class="mi">1</span>
      <span class="p">;;</span>
    <span class="o">*</span><span class="p">)</span>
      <span class="k">if</span> <span class="vg">$fParsedHost</span><span class="p">;</span>
      <span class="k">then</span>
        <span class="n">echo</span> <span class="mi">1</span><span class="o">&gt;&amp;</span><span class="mi">2</span>
        <span class="n">echo</span> <span class="s2">"invalid option </span><span class="se">\"</span><span class="s2">${1}</span><span class="se">\"</span><span class="s2">."</span> <span class="mi">1</span><span class="o">&gt;&amp;</span><span class="mi">2</span>
        <span class="n">echo</span> <span class="mi">1</span><span class="o">&gt;&amp;</span><span class="mi">2</span>
        <span class="n">usage</span>
        <span class="nb">exit</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">"${1}"</span>
	<span class="n">fParsedHost</span><span class="o">=</span><span class="kp">true</span>
      <span class="n">fi</span>
      <span class="p">;;</span>
  <span class="n">esac</span>

  <span class="n">shift</span> <span class="mi">1</span>
<span class="n">done</span>

<span class="n">opt</span><span class="o">=</span><span class="s2">"${opt} --host=${host} --port ${port} --team ${team} ${paramsfile_args} --mhost=${mhost}"</span>

<span class="no">DIR</span><span class="o">=</span><span class="s2">"$( cd "</span><span class="err">$</span><span class="p">(</span> <span class="n">dirname</span> <span class="s2">"$0"</span> <span class="p">)</span><span class="s2">" &amp;&amp; pwd )"</span> 
<span class="n">cd</span> <span class="vg">$DIR</span>

<span class="k">for</span> <span class="p">((</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="vg">$NUM_PLAYERS</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">));</span> <span class="k">do</span>
    <span class="k">case</span> <span class="vg">$i</span> <span class="k">in</span>
	<span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="p">)</span>
	    <span class="n">echo</span> <span class="s2">"Running agent No. $i -- Type 0"</span>
	    <span class="s2">"$BINARY_DIR/$AGENT_BINARY"</span> <span class="vg">$opt</span> <span class="o">--</span><span class="n">unum</span> <span class="vg">$i</span> <span class="o">--</span><span class="n">type</span> <span class="mi">0</span> <span class="o">--</span><span class="n">paramsfile</span> <span class="n">paramfiles</span><span class="o">/</span><span class="n">defaultParams_t0</span><span class="p">.</span><span class="nf">txt</span> <span class="o">&amp;</span><span class="c1">#&gt; /dev/null &amp;</span>
	    <span class="c1">#"$BINARY_DIR/$AGENT_BINARY" $opt --unum $i --type 0 --paramsfile paramfiles/defaultParams_t0.txt &gt; stdout$i 2&gt; stderr$i &amp;</span>
	    <span class="p">;;</span>
	<span class="mi">3</span><span class="o">|</span><span class="mi">4</span><span class="p">)</span>
	    <span class="n">echo</span> <span class="s2">"Running agent No. $i -- Type 1"</span>
	    <span class="s2">"$BINARY_DIR/$AGENT_BINARY"</span> <span class="vg">$opt</span> <span class="o">--</span><span class="n">unum</span> <span class="vg">$i</span> <span class="o">--</span><span class="n">type</span> <span class="mi">1</span> <span class="o">--</span><span class="n">paramsfile</span> <span class="n">paramfiles</span><span class="o">/</span><span class="n">defaultParams_t1</span><span class="p">.</span><span class="nf">txt</span> <span class="o">&amp;</span><span class="c1">#&gt;  /dev/null &amp;</span>
	    <span class="c1">#"$BINARY_DIR/$AGENT_BINARY" $opt --unum $i --type 1 --paramsfile paramfiles/defaultParams_t1.txt &gt; stdout$i 2&gt; stderr$i &amp;</span>
	    <span class="p">;;</span>
	<span class="mi">5</span><span class="o">|</span><span class="mi">6</span><span class="p">)</span>
	    <span class="n">echo</span> <span class="s2">"Running agent No. $i -- Type 2"</span>
	    <span class="s2">"$BINARY_DIR/$AGENT_BINARY"</span> <span class="vg">$opt</span> <span class="o">--</span><span class="n">unum</span> <span class="vg">$i</span> <span class="o">--</span><span class="n">type</span> <span class="mi">2</span> <span class="o">--</span><span class="n">paramsfile</span> <span class="n">paramfiles</span><span class="o">/</span><span class="n">defaultParams_t2</span><span class="p">.</span><span class="nf">txt</span> <span class="o">&amp;</span><span class="c1">#&gt; /dev/null &amp;</span>
	    <span class="c1">#"$BINARY_DIR/$AGENT_BINARY" $opt --unum $i --type 2 --paramsfile paramfiles/defaultParams_t2.txt &gt; stdout$i 2&gt; stderr$i &amp;</span>
	    <span class="p">;;</span>
	<span class="mi">7</span><span class="o">|</span><span class="mi">8</span><span class="p">)</span>
	    <span class="n">echo</span> <span class="s2">"Running agent No. $i -- Type 3"</span>
	    <span class="s2">"$BINARY_DIR/$AGENT_BINARY"</span> <span class="vg">$opt</span> <span class="o">--</span><span class="n">unum</span> <span class="vg">$i</span> <span class="o">--</span><span class="n">type</span> <span class="mi">3</span> <span class="o">--</span><span class="n">paramsfile</span> <span class="n">paramfiles</span><span class="o">/</span><span class="n">defaultParams_t3</span><span class="p">.</span><span class="nf">txt</span> <span class="o">&amp;</span><span class="c1">#&gt; /dev/null &amp;</span>
	    <span class="c1">#"$BINARY_DIR/$AGENT_BINARY" $opt --unum $i --type 3 --paramsfile paramfiles/defaultParams_t3.txt &gt; stdout$i 2&gt; stderr$i &amp;</span>
	    <span class="p">;;</span>
	<span class="o">*</span><span class="p">)</span>
	    <span class="n">echo</span> <span class="s2">"Running agent No. $i -- Type 4"</span>
	    <span class="s2">"$BINARY_DIR/$AGENT_BINARY"</span> <span class="vg">$opt</span> <span class="o">--</span><span class="n">unum</span> <span class="vg">$i</span> <span class="o">--</span><span class="n">type</span> <span class="mi">4</span> <span class="o">--</span><span class="n">paramsfile</span> <span class="n">paramfiles</span><span class="o">/</span><span class="n">defaultParams_t4</span><span class="p">.</span><span class="nf">txt</span> <span class="o">&amp;</span><span class="c1">#&gt; /dev/null &amp;</span>
	    <span class="c1">#"$BINARY_DIR/$AGENT_BINARY" $opt --unum $i --type 4 --paramsfile paramfiles/defaultParams_t4.txt &gt; stdout$i 2&gt; stderr$i &amp;</span>
	    <span class="p">;;</span>
	
    <span class="n">esac</span>
    <span class="nb">sleep</span> <span class="mi">1</span>
<span class="n">done</span></code></pre></figure>

<p><code class="highlighter-rouge">"$BINARY_DIR/$AGENT_BINARY" $opt --unum $i --type 0 --paramsfile paramfiles/defaultParams_t0.txt &amp;#&gt; /dev/null &amp;</code>调用1或者2编号的机器人时的语句</p>
<blockquote>
  <p>其中<code class="highlighter-rouge">"$BINARY_DIR/$AGENT_BINARY"</code>指的是生成的<code class="highlighter-rouge">agentspark</code>二进制文件,这里面有机器人的动作,策略等一系列的信息. <br />
由此可见,<code class="highlighter-rouge">agentspark</code>的参数分别为<code class="highlighter-rouge">host</code>(默认为localhost),<code class="highlighter-rouge">port</code>(默认为3100),<code class="highlighter-rouge">team</code>(队伍名字),<code class="highlighter-rouge">paramsfile_args</code>(机器人参数文件),<code class="highlighter-rouge">mhost</code>(默认localhost),<code class="highlighter-rouge">i</code>(即队员的编号).</p>
</blockquote>


            </article>
        </div>
      </div>
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2018-2018 <a href=""><code>Keyu Zhao</code></a>.</p>
		<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, themed from <a href="http://lesscss.cn/">Less</a>
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/lessismore.js"></script>
<script src="/styles/js/application.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  </body>
</html>
