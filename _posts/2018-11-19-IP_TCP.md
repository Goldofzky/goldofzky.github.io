---
layout: post
title:  "TCP/IP理解"
subtitle: "Principle of TCP/IP"
header-img: "img/about-bg-walle.jpg"
tag: 
    - 网络原理
---

IP
===
在谈到传输协议前必须要先理解`IP`(Internet Protocal，互联网协议)的基本概念。  
IP包含两个基本的功能，**寻址**和**分片**。
两个电话拨通，我们需要知道两个电话之间的电话号码，而主机之间的通讯也一样，每一个连上Internet的主机都至少要有一个IP地址，从而将自己与其他网络上的主机区分开来。
>源主机必须要知道目标主机的IP地址才能向其发送数据。源主机可以向已知IP地址的目的主机发送数据包，并借助于网络设备寻找到达目的主机的路径，最终将数据包发送到目的地，这个过程即为`寻址`。

>当发送数据时，信息将被拆分为若干个小块，称为**数据包**。IP协议在传输数据包时，将数据报文分为若干分片进行传输，并在目标系统中进行重组。
不同的链路类型规定有不同最大长度的链路层数据帧，称为链路层MTU（最大传输单元）。常见以太网的MTU为1500，若IP协议在传输数据包时，IP报文长度大于转发接口的MTU，则将数据报文分为若干`分片`进行传输，分片报文到达接收方时，由接收方完成重组。  
>因为数据包可以通过Internet不同的路径到达目的地址，所以数据包到达目的地址的顺序可能与发送时的顺序不同。IP只负责发送数据包，而TCP负责将数据包按照正确的顺序进行排序。
![IP数据包的格式](\img\in-post\IP-bag.jpg)


**not finished**